builds:
  - binary: undistro
    main: ./cmd/undistro/main.go
    ldflags: -X github.com/getupio-undistro/undistro/pkg/version.buildDate={{.Env.BUILD_DATETIME}} -X github.com/getupio-undistro/undistro/pkg/version.gitCommit={{.Env.BUILD_COMMIT}} -X github.com/getupio-undistro/undistro/pkg/version.gitTreeState={{.Env.BUILD_STATE}} -X github.com/getupio-undistro/undistro/pkg/version.gitMajor={{.Env.GIT_MAJOR}} -X github.com/getupio-undistro/undistro/pkg/version.gitMinor={{.Env.GIT_MINOR}} -X github.com/getupio-undistro/undistro/pkg/version.gitVersion={{.Env.GIT_VERSION}} -X github.com/getupio-undistro/undistro/pkg/version.gitReleaseCommit={{.Env.RELEASE_COMMIT}}
    goos:
      - darwin
      - linux

brews:
  - tap:
      owner: getupio-undistro
      name: homebrew-tap
    folder: Formula
    homepage: https://undistro.io
    description: UnDistro is a vanilla, non-opinionated, and open source Kubernetes distribution
nfpms:
  - homepage: https://undistro.io
    description: UnDistro is a vanilla, non-opinionated, and open source Kubernetes distribution
    maintainer: UnDistro Team <undistro@getup.io>
    license: Apache-2.0
    vendor: Getup
    formats:
      - apk
      - deb
      - rpm


release:
  github:
    owner: getupio-undistro
    name: undistro
